// Generated by CoffeeScript 1.4.0
var $;

$ = jQuery;

$.fn.extend({
  validate: function(options) {
    var log, settings;
    settings = {
      debug: false
    };
    settings = $.extend(settings, options);
    log = function(msg) {
      if (settings.debug) {
        return typeof console !== "undefined" && console !== null ? console.log(msg) : void 0;
      }
    };
    return this.each(function() {
      var valrules, watchForm;
      valrules = {
        fullname: function(str) {
          var exp;
          exp = /[a-zA-ZÖÜÄßöüäø]{2,}\s[a-zA-ZÖÜÄßöüäø]{2,}/;
          if (str.match(exp) !== null) {
            return true;
          } else {
            return false;
          }
        }
      };
      watchForm = function(elem) {
        if (!elem.is('select')) {
          return elem.on('keyup', function(e) {
            if (e.which === 13) {
              e.preventDefault();
            }
            if (e.which !== 8) {
              if (elem.val().length > parseInt(elem.data('minval'))) {
                if (valrules[elem.data('valrule')](elem.val())) {
                  return alert('we got a Full name!!! this is awesome');
                }
              }
            }
          });
        }
      };
      log("Preparing magic show.");
      return $(this).children('input, select, textarea').each(function(i) {
        return watchForm($(this));
      });
    });
  }
});
