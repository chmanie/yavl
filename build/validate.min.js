var $,isInObj,parseMsg,valConstraints,valMessages;
if("undefined"===typeof valMessages||null===valMessages)valMessages={required:{successmsg:"Well done!",errormsg:"I am sorry but this is required!"},minlength:{successmsg:"You managed to meet the requirement of %s characters. Well done!",errormsg:"Sorry, minimal length is %s characters!"},email:{successmsg:"Great!",errormsg:"This does not look like a valid E-Mail address to me"},fullname:{successmsg:"Great!",errormsg:"Please provide a full name"},regexp:{successmsg:"Great!",errormsg:"Something is wrong!"}};
valConstraints={required:function(){return{valfun:function(a){return 1<=a.length?!0:!1},successmsg:valMessages.required.successmsg,errormsg:valMessages.required.errormsg}},minlength:function(a){return{valfun:function(b){return b.length>=parseInt(a)?!0:!1},successmsg:parseMsg(valMessages.minlength.successmsg,a),errormsg:parseMsg(valMessages.minlength.errormsg,a)}},email:function(){return{valfun:function(a){return null!=a.match(/^(.{1,})@(.{1,})\.(.{1,})$/)?!0:!1},successmsg:valMessages.email.successmsg,
errormsg:valMessages.email.errormsg}},fullname:function(){return{valfun:function(a){return null!=a.match(/^[a-zA-Z\u00e0\u00e1\u00e2\u00e4\u00e3\u00e5\u00e8\u00e9\u00ea\u00eb\u00ec\u00ed\u00ee\u00ef\u00f2\u00f3\u00f4\u00f6\u00f5\u00f8\u00f9\u00fa\u00fb\u00fc\u00ff\u00fd\u00f1\u00e7\u010d\u0161\u017e\u00c0\u00c1\u00c2\u00c4\u00c3\u00c5\u00c8\u00c9\u00ca\u00cb\u00cc\u00cd\u00ce\u00cf\u00d2\u00d3\u00d4\u00d6\u00d5\u00d8\u00d9\u00da\u00db\u00dc\u0178\u00dd\u00d1\u00df\u00c7\u0152\u00c6\u010c\u0160\u017d\u2202\u00f0 ,.'-]+$/)?
!0:!1},successmsg:valMessages.fullname.successmsg,errormsg:valMessages.fullname.errormsg}},regexp:function(a){return{valfun:function(b){return null!=b.match(a)?!0:!1},successmsg:valMessages.regexp.successmsg,errormsg:valMessages.regexp.errormsg}}};$=jQuery;
$.fn.extend({validate:function(a){var b;b={debug:!1,onKeyUpValidationSuccess:function(){},onKeyUpValidationError:function(){},onBlurValidationSuccess:function(){},onBlurValidationError:function(){},onSubmitElemValidationSuccess:function(){},onSubmitElemValidationError:function(){},onSubmitValidationSuccess:function(){},onSubmitValidationError:function(){},onEmpty:function(){},validateOnKeyUp:!1,validateOnBlur:!0,validateOnSubmit:!0,useFormPOST:!0};b=$.extend(b,a);var c=function(g){this.elem=g;this.data=
this.elem.data();this.valFuncs=this.parseValFuncs();this.minval=null!=this.elem.data("minval")?this.elem.data("minval"):0;b.validateOnKeyUp&&this.startKeyUpValidation();b.validateOnBlur&&this.startBlurValidation()};c.prototype.parseValFuncs=function(){var g,b,a,e,h,c,f,k;g=/^(.*)Errormsg$/;h=/^(.*)Successmsg$/;k=this.data;for(e in k)f=k[e],b=e.match(g),c=e.match(h),null!=b&&null!=b[1]&&(valMessages[b[1]].errormsg=f),null!=c&&null!=c[1]&&(valMessages[c[1]].successmsg=f);g={};b=this.data;for(a in b)f=
b[a],isInObj(a,valConstraints)&&(g[a]=valConstraints[a](f));return g};c.prototype.startKeyUpValidation=function(){var a;a=this;return this.elem.on("keyup",function(c){if(""===a.elem.val())return b.onEmpty(a.elem);if(13===c.which||16===c.which)return c.preventDefault();if("undefined"!==typeof minval&&null!==minval){if(a.elem.val().length>=parseInt(minval))return a.applyRules("onKeyUpValidation")}else return a.applyRules("onKeyUpValidation")})};c.prototype.startBlurValidation=function(){var a;a=this;
return this.elem.on("blur",function(){return""!==a.elem.val()?a.applyRules("onBlurValidation"):b.onEmpty(a.elem)})};c.prototype.applyRules=function(a){var c,d,e,h;e={success:[],failed:[]};h=this.valFuncs;for(c in h)d=h[c],!1===d.valfun(this.elem.val())?e.failed.push(d.errormsg):e.success.push(d.successmsg);if(0===e.failed.length)return b[a+"Success"](this.elem,e),!0;b[a+"Error"](this.elem,e);return!1};return this.each(function(){var a,j,d;d=[];$(this).find("input, select, textarea").each(function(a){if("submit"!==
$(this).attr("type"))return d[a]=new c($(this))});j=$(this);if(b.validateOnSubmit)$(this).on("submit",function(c){if(a(d))return b.useFormPOST||c.preventDefault(),b.onSubmitValidationSuccess(j);c.preventDefault();return b.onSubmitValidationError(j)});return a=function(a){var b,c,f,d;b=!0;f=0;for(d=a.length;f<d;f++)c=a[f],c.applyRules("onSubmitElemValidation")||(b=!1);return b}})}});isInObj=function(a,b){for(var c in b)if(c===a)return!0;return!1};
parseMsg=function(a,b){return-1===a.indexOf("%s")?a:a.split("%s")[0]+b+a.split("%s")[1]};